# 그래프

- 대표적인 예시는 "친구 관계 문제"

## 그래프(Graph)

- 그래프는, 아이템(사물 또는 추상적 개념)들과 이들 사이의 연결 관계를 표현한다.
  
  - 기본적으로 "다 대 다" 관계를 표현할 때 사용된다.

- 정점(Vertex): 그래프의 구성요소로, 하나의 연결점. 트리에서의 node

- 간선(Edge): 두 정점을 연결하는 선

- 차수(Degree): 정점에 연결된 간선의 수.

- 그래프는, 정점들의 집합과 이들을 연결하는 간선들의 집합으로 구성된 자료구조다.
  
  - V: 정점의 개수, E: 그래프에 포함된 간선의 개수라고 할 때,
    
    V개의 정점을 가지는 그래프는 최대 V*(V-1)/2개의 간선을 가질 수 있다.
    
    > 단, "무향(양방향)" 그래프인 경우. "유향" 이면 /2가 필요없다.

- 선형 자료구조나 트리 자료구조로 표현하기 어려운 N:N 관계를 표현하기에 용이.

### 그래프의 유형

- 무향 그래프(Undirected Graph)

- 유향 그래프(Directed Graph)

- 가중치 그래프(Weighted Graph)

- 사이클 없는 방향 그래프(DAG, Directed Acyclic Graph)

- 완전 그래프: 정점들에 대해 가능한 모든 간선들을 가진 그래프

- 부분 그래프: 원래 그래프에서 일부의 정점이나 간선을 제외한 그래프
  
  - 완전 그래프의 부분집합에 해당

- 트리 또한 그래프이다.
  
  - 각 노드는 최대 하나의 부모 노드가 존재
  
  - 각 노드는 자식 노드가 없거나 하나 이상이 존재
  
  - 두 노드 사이에는 유일한 경로(간선)이 존재.

### 인접 정점

- 인접: 두 개의 정점 사이에 간선이 존재하면 서로 인접해 있다고 함.
  
  - 완전 그래프에 속한 임의의 두 정점들은 서로 인접해 있다.

### 그래프 경로

- 경로(Path)란 어떤 정점 A에서 시작하여 다른 정점 B로 끝나는 순회로, 두 정점 사이를 잇는 간선들을 순서대로 나열한 것.
  
  - 트리와 달리 "루트" 같은 존재가 없음. 그 어떤 정점에서도 출발이 가능하다.
  
  - 어떤 정점에서 다른 정점으로 가는 경로는 여러 가지일 수 있다.

- 단순 경로: 시작정점과 끝 정점을 제외하고 중복된 정점이 없는 경로.

- **싸이클**: 경로의 시작 정점과 끝 정점이 같은 경우.

## 그래프 표현

- 간선의 정보를 저장하는 방식. 메모리, 성능을 고려해서 결정하게 될 것.

- 인접 행렬, 인접 리스트, 간선 리스트

### 인접 행렬

- 두 정점을 연결하는 간선의 유무를 행렬로 표현
  
  - V x V 정방형 행렬
  
  - 행 번호와 열 번호가 그래프의 정점에 대응
  
  - 두 정점이 인접되어 있으면 1, 그렇지 않으면 0으로 표현 ( int [][] )
    
    - 이걸 boolean[][]으로 표현하고 t/f로 표현할 수도 있긴 한데,
      
      그렇게 할 시 **가중치** 표현이 불가능하다.
    
    - 무향 그래프의 경우, 행렬 작성 시 **대칭형**으로 완성될 것.
    
    - 유향 그래프라면, 행이 *from*, 열이 *to*에 해당함을 유의

- 무향 그래프라면,
  
  - i번째 행의 합 = i번째 열의 합 = Vi 정점의 차수
  
  - 그림 상에서 n개의 간선은 행렬 상 2n개의 원소로 표현

- 유향 그래프라면,
  
  - 행 i의 합 = Vi 정점의 진출 차수
  
  - 열 i의 합 = Vi 정점의 진입 차수
  
  - 그림 상 n개의 간선은 행렬 상 n개의 원소로 표현

#### 인접 행렬의 단점

- 희소 그래프(Sparse Graph) vs 밀집 그래프(Dense Graph)
  
  - 정점에 비해 간선이 희박 vs 간선이 빽뺵
  
  - 희소 그래프의 경우 배열 상 cell의 대부분이 0. 불필요한 공간이 너무 많음. 공간복잡도 상 손해
  
  - 밀집 그래프는 같은 차원에서 공간 활용 상 인접 행렬이 효율적.

### 인접 리스트

- 각 정점에 대한 인접 정점들을 순차적으로 표현

- 하나의 정점에 대한 인접 정점들을 각각 노드로 하는 **연결 리스트**에 저장
  
  - Data필드에는 to 정점 번호와 가중치를 담는다.
  
  - Link필드에는 다음 노드의 주소를 담는다.

- 헤드에 해당하는 Node를 관리하는 Node []를 통해 전체 그래프를 통제할 수 있다.
  
  - 각 헤드 node마다 각각의 LinkedList가 존재하기 때문.

- 무향 그래프에서 노드의 수는, 간선의 수 * 2
  
  - 각 정점(head)의 노드 수는, 정점의 **차수**

- 유향 그래프에서 노드의 수는, 간선의 수
  
  - 각 정점의 노드 수는 정점의 **진출 차수**.

### 간선 리스트

- 인접행렬과 인접 리스트는, **정점을 중심으로 간선을 표현**한다.

- 간선 리스트는, 두 정점에 대한 **간선 그 자체를 객체로 표현**하여 리스트로 저장.

- 각 객체는 간선을 표현하는 두 정점의 정보를 나타내고 있다. (시작과 끝 정점)
  
  - Custom class를 하나 파서 관리하면 좋다. from, to, weight 정도를 저장

##### 언제 뭘 쓸까? - 보충 필요

- 정보 입력이 정점 위주로 2차원 배열로 들어온다면?
  
  - 그냥 인접행렬로 표현해서 풀면 됨

- 정보 입력이 간선에 대한 정보로 들어온다면?
  
  - 인접행렬, 인접리스트 모두 만들 수 있음
  
  - 그 때 중요한 건 정점의 크기
    
    - 정점의 개수가 지나치게 크면, 인접행렬도 너무 커진다. 공간복잡도 상의 손실이 지나침 -> 인접리스트로 풀이


