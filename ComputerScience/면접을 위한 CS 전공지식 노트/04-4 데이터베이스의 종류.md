# Chapter 4: 데이터베이스

---

# Section 4: 데이터베이스의 종류

---

## 관계형 데이터베이스

관계형 데이터베이스(**RDBMS**)는, **행과 열을 가지는 표 형식 데이터를 저장하는 형태**의 데이터베이스이다. **SQL**이라는 언어를 써서 조작하게 된다.

- MySQL, PostgreSQL, 오라클, SQL Server, MSSQL 등이 있다.

### MySQL

대부분의 운영체제와 호환되며, 현재 가장 많이 사용하는 데이터베이스이다.

#### 특징

- C와 C++로 제작

- MyISAM 인덱스 압축 기술

- B-Tree 기반의 인덱스

- 스레드 기반의 메모리 할당 시스템

- 매우 빠른 JOIN

- 최대 64개 인덱스 제공

- 대용량 데이터베이스를 위한 설계

- 롤백, 커밋, 이중 암호 지원 보안 등

- 모듈식 아키텍처로 **스토리지 엔진**을 쉽게 교체할 수 있음

- 데이터 웨어하우징, 트랜잭션 처리, 고가용성 처리에 강점

- 스토리지 엔진 위에 커넥터 API와 서비스 계층을 두어 쉽게 상호작용 가능

- 쿼리 캐시 지원하여, 작성된 쿼리가 캐시에 있는 것과 동일하면 캐시의 출력을 표시

### PostgreSQL

- 디스크 조각이 차지하는 영역을 회수하는 장치인, **VACUUM**이 특징이다.

- SQL뿐만 아니라 JSON을 이용해서도 데이터에 접근할 수 있다.

- 지정 시간에 복구하는 기능, 로깅, 접근 제어, 중첩된 트랜잭션, 백업 등 가능

---

## NoSQL 데이터베이스

**SQL을 사용하지 않는 데이터베이스.** *Not Only SQL*이라는 슬로건 하에 생겨났다.

**비관계형 데이터베이스**로, 관계형 데이터베이스를 뺀 나머지 유형을 총칭하게 된다.

- table이 아닌 방식으로 데이터를 저장한다.
  
  - 주요 유형은 문서, 키 값, 와이드 컬럼, 그래프

- 유연한 스키마를 제공하여, 대량의 데이터와 높은 사용자 부하에서 손쉽게 확장이 가능하다.

- RDB는 데이터를 입력할 때 **스키마에 맞게 입력해야** 하지만, NoSQL에서는 **스키마에 따라** 데이터를 읽어오는 성격이 있다.

- 즉, 데이터를 입력하는 방식이 데이터를 읽어올 때 영향을 미친다.

### 유형

#### Key-Value 타입

#### 문서형 데이터베이스

**JSON**과 유사한 형식의 데이터를 **문서화**하여 저장.

각각의 문서는 하나의 속성에 대한 데이터를 가진다.

**컬렉션**이라고 하는 그룹으로 문서를 묶어서 관리한다.

#### 그래프 데이터베이스

노드에 속성별로 데이터를 저장.

노드 간의 관계는 간선으로 표현

#### 와이드 컬럼 Store 데이터베이스

데이터베이스의 column에 대한 데이터를 집중적으로 관리하는 데이터베이스.

각 열에는 key-value 형식으로 데이터가 저장되고,

컬럼 패밀리라고 하는 열의 집합체 단위로 데이터를 처리할 수 있다.

하나의 행에 많은 열을 포함할 수 있어서 유연성이 높다.

데이터 처리에 필요한 열을 유연하게 선택할 수 있다.

### 사용하는 경우

#### 데이터의 구조가 거의 or 전혀 없는 대용량 데이터를 저장하는 경우

대부분 NoSQL DB는 저장할 수 있는 **데이터 유형**에 대한 제한을 두고 있지 않다.

**비정형의 대량 데이터** 처리 시 NoSQL이 더 효율적일 수 있다.

#### 클라우드 컴퓨팅 등 저장공간을 최대한 활용하는 경우

데이터베이스의 **확장성**이 중요한 경우, 별다른 번거로움 없이 확장이 가능한 NoSQL 데이터베이스가 좋다.

#### 빠르게 서비스를 구축하는 과정에서 데이터 구조를 자주 업데이트 하는 경우

**스키마**를 미리 준비할 필요가 없기 때문에 빠른 개발 과정에서 매우 유리하다.

### MongoDB

**키-값 데이터 모델에서 확장된, 다큐먼트(문서형) 기반의 데이터베이스**

- JSON을 통해 데이터에 접근

- Binary JSON(BSON)의 형태로 데이터가 저장

- 와이어드타이거 엔진이 기본 스토리지 엔진으로 장착

### redis

인메모리 데이터베이스이자, **키-값 데이터 모델 기반의 데이터베이스**.

- 기본 데이터 타입은 문자열

- Set, Hash 등도 지원

- pub/sub 기능을 통한 채팅 시스템, 다른 DB 앞단에 두어 캐싱 계층으로 사용하기, 단순한 키-값이 필요한 세션 정보 관리, sorted set 자료 구조를 이용한 실시간 순위표 서비스 만들기 등에서 사용된다.


