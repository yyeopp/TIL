<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.ssafy.happyhouse.model.mapper.ExpandedMapper">
	
	<select id="hospitalList" parameterType="String" resultType="HospitalListDto">
		select hospNo as hospitalNo , yadmNm as hospitalName, lat, lng
		from hospital
		where dongCode = #{dongCode}
	</select>
	
	<select id="viewHospital" parameterType="String" resultType="HospitalInfoDto">
		select yadmNm as hospitalName, telno, addr, ratPsblYn
		from hospital
		where hospNo = #{hospitalNo}
	</select>
	
	<select id="hospitalListRange" parameterType="String" resultType="HospitalListDto">
		select hospNo as hospitalNo , yadmNm as hospitalName, lat, lng
		from hospital
		<if test="swLng != '' and swLng != null and neLng != '' and neLng != null"> 
			WHERE LNG BETWEEN #{swLng} AND #{neLng} </if> 
		<if test="swLat != '' and swLat != null and neLat != '' and neLat != null"> 
			AND LAT BETWEEN #{swLat} AND #{neLat} 
		</if>
	</select>
	
	<select id="schoolListRange" parameterType="String" resultType="SchoolDto">
		select *
		from school
		<if test="swLng != '' and swLng != null and neLng != '' and neLng != null"> 
			WHERE LNG BETWEEN #{swLng} AND #{neLng} </if> 
		<if test="swLat != '' and swLat != null and neLat != '' and neLat != null"> 
			AND LAT BETWEEN #{swLat} AND #{neLat} 
		</if>
	</select>
	

</mapper>